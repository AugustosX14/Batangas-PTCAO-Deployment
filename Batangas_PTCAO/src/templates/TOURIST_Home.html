<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batangas Explorer - Discover the Heart of CALABARZON</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #003366;
            --accent: #ff7e00;
            --light-bg: #f8f9fa;
            --shadow-light: 0 4px 15px rgba(0,0,0,0.08);
            --shadow-medium: 0 8px 25px rgba(0,0,0,0.12);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Navigation */
        .navbar {
            background-color: var(--primary);
            padding: 1rem 0;
            box-shadow: var(--shadow-medium);
            transition: var(--transition);
        }

        .navbar.scrolled {
            padding: 0.7rem 0;
            backdrop-filter: blur(10px);
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: white !important;
            transition: transform 0.3s ease;
        }

        .navbar-brand:hover {
            transform: translateY(-1px);
        }

        .navbar-brand img {
            margin-right: 10px;
        }

        .nav-link {
            color: white !important;
            font-weight: 500;
            padding: 0.5rem 1rem;
            position: relative;
            transition: var(--transition);
            border-radius: 5px;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: var(--transition);
            transform: translateX(-50%);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 70%;
        }

        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        /* Hero Section */
        .hero-section {
            background-image: linear-gradient(rgba(0,51,102,0.1), rgba(0,51,102,0.7)),
                              url("/static/uploads/events/batangas_hero.jpg");
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            height: 70vh;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-top: 76px;
        }

        .hero-content {
            max-width: 800px;
            padding: 0 2rem;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            animation: fadeInUp 1s ease-out;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Buttons */
        .btn-explore {
            background-color: var(--accent);
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1.1rem;
            color: white;
            text-decoration: none;
            display: inline-block;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(255, 126, 0, 0.3);
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        .btn-explore:hover {
            background-color: #e06e00;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 126, 0, 0.4);
            color: white;
        }

        .btn-outline-primary {
            border: 2px solid var(--accent);
            color: var(--accent);
            font-weight: 600;
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            transition: var(--transition);
            background: transparent;
        }

        .btn-outline-primary:hover {
            background-color: var(--accent);
            border-color: var(--accent);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 126, 0, 0.3);
        }

        /* Sections */
        .section-container {
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }

        .section-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            position: relative;
            padding-bottom: 0.5rem;
            color: var(--primary);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }

        /* Destination Cards */
        .destination-card {
            border: none;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            height: 100%;
            overflow: hidden;
            background: white;
        }

        .destination-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-medium);
        }

        .destination-card .card-img-top {
            height: 220px;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .destination-card:hover .card-img-top {
            transform: scale(1.05);
        }

        .card-body {
            padding: 1.8rem;
        }

        .location {
            display: flex;
            align-items: center;
            color: var(--accent);
            font-weight: 500;
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
        }

        .location i {
            margin-right: 8px;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            color: var(--primary);
        }

        .card-text {
            color: #666;
            margin-bottom: 1.2rem;
        }

        .badge-custom {
            background-color: rgba(255, 126, 0, 0.1);
            color: var(--accent);
            font-weight: 500;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            margin-right: 0.3rem;
            margin-bottom: 0.3rem;
            font-size: 0.75rem;
            border: 1px solid rgba(255, 126, 0, 0.2);
        }

        /* Map Section */
        .map-section {
            background: white;
            padding: 4rem 0;
            margin: 4rem 0;
            box-shadow: var(--shadow-light);
        }

        .map-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .interactive-map {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: var(--shadow-medium);
            margin: 2rem 0;
        }

        .interactive-map iframe {
            transition: var(--transition);
        }

        .interactive-map:hover iframe {
            transform: scale(1.01);
        }

        .map-legend {
            background: var(--light-bg);
            padding: 2rem;
            border-radius: 15px;
            margin-top: 2rem;
        }

        .legend-item {
            padding: 1rem;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .legend-item:hover {
            transform: translateY(-3px);
        }

        .legend-item i {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .legend-item small {
            color: #666;
            font-weight: 500;
            font-size: 0.9rem;
        }

        /* Events */
        .event-card {
            display: flex;
            margin-bottom: 1.5rem;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border: 1px solid #e9ecef;
        }

        .event-card:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-medium);
        }

        .event-date {
            background-color: var(--primary);
            color: white;
            padding: 1.2rem;
            text-align: center;
            min-width: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .event-date .day {
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1;
        }

        .event-date .month {
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        .event-content {
            padding: 1.5rem;
            flex-grow: 1;
        }

        .event-content h5 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .event-location {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .event-location i {
            margin-right: 5px;
            color: var(--accent);
        }

        /* Announcements */
        .announcements-section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow-light);
            height: fit-content;
        }

        .announcement-card {
            padding: 1.5rem;
            margin-bottom: 1.2rem;
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            background: var(--light-bg);
            transition: var(--transition);
        }

        .announcement-card:hover {
            transform: translateX(3px);
            box-shadow: var(--shadow-light);
        }

        .announcement-card:last-child {
            margin-bottom: 0;
        }

        .announcement-date {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        .announcement-card h6 {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        /* About Section */
        .about-section {
            background-color: var(--light-bg);
            padding: 3.5rem 2rem;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
        }

        .about-section-sidebar {
            background-color: var(--light-bg);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            height: fit-content;
        }

        .about-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: var(--shadow-medium);
            transition: transform 0.3s ease;
        }

        .about-image:hover {
            transform: scale(1.02);
        }

        .about-image-small {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: var(--shadow-medium);
            transition: transform 0.3s ease;
        }

        .about-image-small:hover {
            transform: scale(1.02);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .stats-container-compact {
            margin-top: 1.5rem;
        }

        .stat-item {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            transition: transform 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-3px);
        }

        .stat-item-compact {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: var(--shadow-light);
            transition: transform 0.3s ease;
        }

        .stat-item-compact:hover {
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }

        .stat-number-compact {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.3rem;
        }

        .stat-label {
            font-size: 1rem;
            color: #666;
        }

        .stat-label-compact {
            font-size: 0.8rem;
            color: #666;
            line-height: 1.2;
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            padding: 3rem 0 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 3rem;
        }

        .footer-title {
            color: white;
            font-weight: 600;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
        }

        .footer-links {
            list-style: none;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--accent);
            padding-left: 8px;
        }

        .social-icons {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
        }

        .social-icon {
            width: 42px;
            height: 42px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: white;
            text-decoration: none;
        }

        .social-icon:hover {
            background-color: var(--accent);
            transform: translateY(-2px);
            color: white;
        }

        .copyright {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1.5rem;
            margin-top: 2rem;
            text-align: center;
            font-size: 0.9rem;
        }

        /* Loading and Error States */
        .loading-spinner {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            border: 0.25em solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: #007bff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            color: #dc3545;
            padding: 1rem;
            border-radius: 0.25rem;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.2rem;
            }

            .event-card {
                flex-direction: column;
            }

            .event-date {
                min-width: auto;
                padding: 1rem;
                flex-direction: row;
                justify-content: center;
                gap: 1rem;
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }

            .section-container {
                margin-bottom: 2rem;
            }

            .map-container {
                padding: 0 1rem;
            }

            .map-section {
                padding: 3rem 0;
            }
        }

        @media (max-width: 576px) {
            .hero-content {
                padding: 0 1rem;
            }

            .about-section {
                padding: 2rem 1rem;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .legend-item {
                padding: 0.5rem;
            }

            .map-legend {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top" id="navbar">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' rx='5' fill='%23ff7e00'/%3E%3Ctext x='20' y='26' font-family='Arial' font-size='18' font-weight='bold' text-anchor='middle' fill='white'%3EB%3C/text%3E%3C/svg%3E" alt="Batangas Explorer Logo" width="40" height="40">
                Batangas Explorer
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#destinations">Destinations</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#map">Map</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#events">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Discover Batangas</h1>
            <p class="hero-subtitle">Explore beautiful beaches, rich cultural heritage, and diverse tourism offerings of the Philippines' most visited province.</p>
            <a href="#destinations" class="btn-explore">Explore Now</a>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container my-5">
        <!-- Featured Destinations -->
        <section class="section-container" id="destinations">
            <h2 class="section-title">Featured Destinations</h2>
            <div class="row g-4" id="destinations-container">
                <div class="col-12 text-center py-5">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading destinations...</p>
                </div>
            </div>
            <div class="text-center mt-4">
                <a href="/destinations" class="btn-explore">View All Destinations</a>
            </div>
        </section>
    </div>

    <!-- Interactive Map Section -->
    <section class="map-section" id="map">
        <div class="map-container">
            <h2 class="section-title text-center">Explore Batangas Map</h2>
            <p class="text-center mb-4 lead">Discover tourist destinations, accommodations, and attractions across Batangas Province. Click on markers to learn more about each location.</p>

            <div class="interactive-map">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d248064.47267240304!2d120.8634!3d13.9317!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33bd6f4f7b1a9145%3A0x3f79dda1aa15c6!2sBatangas!5e0!3m2!1sen!2sph!4v1647890123456!5m2!1sen!2sph&maptype=terrain"
                    width="100%"
                    height="500"
                    style="border:0; border-radius: 15px;"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Interactive Map of Batangas Province">
                </iframe>
            </div>

            <div class="map-legend">
                <div class="row text-center">
                    <div class="col-md-3 col-6">
                        <div class="legend-item">
                            <i class="fas fa-mountain text-success"></i>
                            <small>Mountains & Hiking</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-6">
                        <div class="legend-item">
                            <i class="fas fa-water text-primary"></i>
                            <small>Beaches & Diving</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-6">
                        <div class="legend-item">
                            <i class="fas fa-church text-warning"></i>
                            <small>Heritage Sites</small>
                        </div>
                    </div>
                    <div class="col-md-3 col-6">
                        <div class="legend-item">
                            <i class="fas fa-bed text-info"></i>
                            <small>Accommodations</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Content Container -->
    <div class="container my-5">
        <!-- Upcoming Events Section -->
        <section class="section-container" id="events">
            <h2 class="section-title">Upcoming Events</h2>
            <div class="row g-4" id="events-container">
                <div class="col-12 text-center py-5">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading events...</p>
                </div>
            </div>
        </section>

        <!-- Latest Updates and About Section -->
        <div class="row g-4 mt-4">
            <div class="col-lg-6">
                <!-- Latest Updates Section -->
                <section class="section-container">
                    <div class="announcements-section" id="announcements-container">
                        <h2 class="section-title">Latest Updates</h2>
                        <div class="text-center py-5">
                            <div class="loading-spinner"></div>
                            <p class="mt-2">Loading announcements...</p>
                        </div>
                    </div>
                </section>
            </div>

            <div class="col-lg-6">
                <!-- About Batangas Section -->
                <section class="section-container about-section-sidebar" id="about">
                    <h2 class="section-title">About Batangas</h2>
                    <div class="about-image-container mb-3">
                        <img src="/static/uploads/events/about_batangas.jpg" alt="About Batangas" class="about-image-small" onerror="this.src='/static/images/default-about.jpg'">
                    </div>
                    <p class="lead">Batangas is a first-class province in the Philippines located in the CALABARZON region of Luzon. Known as the "Industrial Port City of CALABARZON," it serves as a major gateway to the southern islands.</p>
                    <p>The province is famous for its stunning beaches, world-class diving spots, rich coffee heritage, and well-preserved Spanish colonial architecture. From the iconic Taal Volcano to the pristine waters of Anilao, Batangas offers diverse attractions for all types of travelers.</p>

                    <div class="stats-container-compact">
                        <div class="row g-2">
                            <div class="col-6">
                                <div class="stat-item-compact">
                                    <div class="stat-number-compact">34</div>
                                    <div class="stat-label-compact">Municipalities & Cities</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-item-compact">
                                    <div class="stat-number-compact">2.8M</div>
                                    <div class="stat-label-compact">Population</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-item-compact">
                                    <div class="stat-number-compact">500+</div>
                                    <div class="stat-label-compact">Tourist Spots</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-item-compact">
                                    <div class="stat-number-compact">120+</div>
                                    <div class="stat-label-compact">Beaches & Resorts</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="/about" class="btn-explore mt-3">Learn More</a>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h5 class="footer-title">Batangas Explorer</h5>
                    <p>Your ultimate guide to discovering the natural wonders, cultural treasures, and culinary delights of Batangas Province. From pristine beaches to historical landmarks, we help you explore the best of what Batangas has to offer.</p>
                    <div class="social-icons">
                        <a href="#" class="social-icon" title="Follow us on Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-icon" title="Follow us on Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-icon" title="Follow us on Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-icon" title="Subscribe to our YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 mb-4 mb-md-0">
                    <h5 class="footer-title">Popular Destinations</h5>
                    <ul class="footer-links" id="popular-destinations">
                        <li><a href="#">Loading...</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 mb-4 mb-md-0">
                    <h5 class="footer-title">Quick Links</h5>
                    <ul class="footer-links">
                        <li><a href="#">Travel Guidelines</a></li>
                        <li><a href="#">Transportation Guide</a></li>
                        <li><a href="#">Weather Updates</a></li>
                        <li><a href="#">Emergency Contacts</a></li>
                        <li><a href="#">Tourism Offices</a></li>
                        <li><a href="#">Hotel Bookings</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-4">
                    <h5 class="footer-title">Visit Batangas</h5>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt me-2"></i> Provincial Capitol Complex, Batangas City</li>
                        <li><i class="fas fa-phone me-2"></i> Hotline: (043) 980-2020</li>
                        <li><i class="fas fa-envelope me-2"></i> tourism@batangas.gov.ph</li>
                        <li><i class="fas fa-clock me-2"></i> Mon-Fri: 8:00 AM - 5:00 PM</li>
                        <li><i class="fas fa-globe me-2"></i> www.batangastourism.com</li>
                    </ul>
                    <div class="mt-3">
                        <small class="text-muted">Official tourism website of Batangas Province</small>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Batangas Explorer. All rights reserved. | Provincial Tourism and Cultural Affairs Office</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all sections for fade-in animation
        document.querySelectorAll('.section-container').forEach(section => {
            observer.observe(section);
        });

        // Load featured destinations
        async function loadFeaturedDestinations() {
            const container = document.getElementById('destinations-container');
            const popularContainer = document.getElementById('popular-destinations');

            // Show loading state
            container.innerHTML = `
                <div class="col-12 text-center py-5">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading destinations...</p>
                </div>
            `;

            try {
                const response = await fetch('/tourist/api/home/featured-destinations');
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.json();

                if (!data || data.length === 0) {
                    container.innerHTML = `
                        <div class="col-12 text-center py-4">
                            <p>No featured destinations found.</p>
                        </div>
                    `;
                    return;
                }

                // Render destinations
                container.innerHTML = data.map(dest => `
                    <div class="col-lg-4 col-md-6">
                        <div class="card destination-card">
                            <img src="${dest.image_path || '/static/images/default-destination.jpg'}"
                                 alt="${dest.name}"
                                 class="card-img-top">
                            <div class="card-body">
                                <div class="location">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>${dest.municipality}, Batangas</span>
                                </div>
                                <h5 class="card-title">${dest.name}</h5>
                                <p class="card-text">${dest.description}</p>
                                <div class="mb-3">
                                    <span class="badge-custom">${dest.type}</span>
                                    ${dest.barangay ? `<span class="badge-custom">${dest.barangay}</span>` : ''}
                                </div>
                                <a href="/destination/${dest.id}" class="btn btn-outline-primary">Explore</a>
                            </div>
                        </div>
                    </div>
                `).join('');

                // Update popular destinations in footer
                if (popularContainer) {
                    popularContainer.innerHTML = data.slice(0, 6).map(dest => `
                        <li><a href="/destination/${dest.id}">${dest.name}</a></li>
                    `).join('');
                }
            } catch (error) {
                console.error('Error loading destinations:', error);
                container.innerHTML = `
                    <div class="col-12">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle me-2"></i>
                            Failed to load destinations. Please try again later.
                        </div>
                    </div>
                `;
            }
        }

        // Load upcoming events
        async function loadUpcomingEvents() {
            const container = document.getElementById('events-container');

            // Show loading state
            container.innerHTML = `
                <div class="col-12 text-center py-5">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading events...</p>
                </div>
            `;

            try {
                const response = await fetch('/tourist/api/home/upcoming-events');
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.json();

                if (!data || data.length === 0) {
                    container.innerHTML = `
                        <div class="col-12 text-center py-4">
                            <p>No upcoming events found.</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = data.map(event => `
                    <div class="col-lg-6 col-md-6">
                        <div class="event-card">
                            <div class="event-date">
                                <div class="day">${event.day}</div>
                                <div class="month">${event.month}</div>
                            </div>
                            <div class="event-content">
                                <h5>${event.title}</h5>
                                <p class="event-location">
                                    <i class="fas fa-map-marker-alt"></i>
                                    ${event.location}, ${event.municipality}
                                </p>
                                <p>${event.description}</p>
                                <a href="/event/${event.id}" class="btn btn-sm btn-outline-primary">More Info</a>
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error loading events:', error);
                container.innerHTML = `
                    <div class="col-12">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle me-2"></i>
                            Failed to load events. Please try again later.
                        </div>
                    </div>
                `;
            }
        }

        // Load recent announcements
        async function loadRecentAnnouncements() {
            const container = document.getElementById('announcements-container');

            // Show loading state
            container.innerHTML = `
                <h2 class="section-title">Latest Updates</h2>
                <div class="text-center py-5">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading announcements...</p>
                </div>
            `;

            try {
                const response = await fetch('/tourist/api/home/recent-announcements');
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.json();

                if (!data || data.length === 0) {
                    container.innerHTML = `
                        <h2 class="section-title">Latest Updates</h2>
                        <div class="text-center py-4">
                            <p>No announcements found.</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = `
                    <h2 class="section-title">Latest Updates</h2>
                    ${data.map(announcement => `
                        <div class="announcement-card">
                            <h6>${announcement.title}</h6>
                            <p class="announcement-date">${announcement.date} • ${announcement.municipality}</p>
                            <p class="mb-0">${announcement.content}</p>
                        </div>
                    `).join('')}
                `;
            } catch (error) {
                console.error('Error loading announcements:', error);
                container.innerHTML = `
                    <h2 class="section-title">Latest Updates</h2>
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle me-2"></i>
                        Failed to load announcements. Please try again later.
                    </div>
                `;
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadFeaturedDestinations();
            loadUpcomingEvents();
            loadRecentAnnouncements();

            // Counter animation for stats
            function animateCounters() {
                const counters = document.querySelectorAll('.stat-number, .stat-number-compact');
                counters.forEach(counter => {
                    const target = parseInt(counter.textContent.replace(/\D/g, ''));
                    const suffix = counter.textContent.replace(/[0-9]/g, '');
                    let current = 0;
                    const increment = target / 50;

                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            counter.textContent = target + suffix;
                            clearInterval(timer);
                        } else {
                            counter.textContent = Math.floor(current) + suffix;
                        }
                    }, 40);
                });
            }

            // Trigger counter animation when stats section is visible
            const statsObserver = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounters();
                        statsObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            const statsContainer = document.querySelector('.stats-container-compact');
            if (statsContainer) {
                statsObserver.observe(statsContainer);
            }

            // Add parallax effect to hero section
            window.addEventListener('scroll', function() {
                const scrolled = window.pageYOffset;
                const heroSection = document.querySelector('.hero-section');
                if (heroSection && scrolled < heroSection.offsetHeight) {
                    heroSection.style.backgroundPositionY = `${scrolled * 0.5}px`;
                }
            });

            // Enhanced hover effects for interactive elements
            document.querySelectorAll('.destination-card, .event-card, .announcement-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    if (this.classList.contains('destination-card')) {
                        this.style.transform = 'translateY(-8px)';
                    } else if (this.classList.contains('event-card')) {
                        this.style.transform = 'translateX(5px)';
                    } else {
                        this.style.transform = 'translateX(3px)';
                    }
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                });
            });

            // Button hover effects
            document.querySelectorAll('.btn, .btn-explore, .btn-outline-primary').forEach(button => {
                button.addEventListener('mouseenter', function () {
                    this.style.transform = 'translateY(-2px)';
                });

                button.addEventListener('mouseleave', function () {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Image lazy loading effect
            document.querySelectorAll('img').forEach(img => {
                img.addEventListener('load', function() {
                    this.style.opacity = '1';
                });
                if (img.complete) {
                    img.style.opacity = '1';
                }
            });
        });
    </script>
</body>
</html>